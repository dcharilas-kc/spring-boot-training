**Exercise 6: Scheduler**

If you are unfamiliar with how scheduling works in Spring, read any of the following before starting this exercise:
https://spring.io/guides/gs/scheduling-tasks/   
https://www.baeldung.com/spring-scheduled-tasks  

| Step | Actions                                                                                                                                                                                                                                                                                                                                                                 |
|------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| a    | Create `ReportTask` class under package `schedule`. You will need to add `@EnableScheduling` either in the project configuration or in `Application` class. Create a task that runs every 1 minute using the `@Scheduled` annotations.                                                                                                                                  |
| b    | Task should print:   <br/> - the total number of users   <br/>- the number of active users   <br/>- the % percentage of active users with 2 decimals rounded up. <br/>Do not forget to handle the case of 0 users.                                                                                                                                                      |
| c    | Assume now that we want only 1 instance of our service to run this job, so we need to sync instances somehow. Use _Shedlock_ to make sure only one instance runs the report (see https://rieckpil.de/lock-scheduled-tasks-with-shedlock-and-spring-boot/). Consider carefully min and max values for lock duration. See what happens in DB when you deploy the service. |
| d    | Task should be executed only if active Spring profile is `test`. Update `application.yml` or `application.properties` accordingly. Hint: `@ConditionalOnExpression("{'test'}.contains('${spring.profiles.active}')")`                                                                                                                                                   |
| e    | Verify Spring profile behavior manually by starting the service with different profiles.                                                                                                                                                                                                                                                                                |
